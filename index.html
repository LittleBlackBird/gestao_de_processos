<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel de Gestão de Processos</title>
  <link rel="stylesheet" href="estilo_painel_processos.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="painel">
    <div class="grafico-container">
      <canvas id="graficoProcesso"></canvas>
    </div>

    <div class="indicador">
      <strong>Relação com Estratégia:</strong>
      <div>
        <label>Objetivo Estratégico:</label>
        <select>
          <option>1. Consolidar o Sistema Nacional de Cultura...</option>
          <option>10. Promover a apropriação social das tecnologias...</option>
          <option>12. Criar marcos e instrumentos legais...</option>
        </select>
      </div>
      <div>
        <label>Entrega Prioritária:</label>
        <select>
          <option>Ampliação dos programas especiais da Rouanet</option>
          <option>Brasil das Artes - Política Nacional das Artes</option>
          <option>Cessão “Casa de Afonso Arinos”...</option>
        </select>
      </div>
    </div>
  </div>

  <script>
    const estrutura = {
      "DIÁRIAS E PASSAGENS": [
        {
          "nome": "DIÁRIAS E PASSAGENS - Processo A",
          "concluidos": 3,
          "etapas": [
            "1- Solicitação de autorização de viagem",
            "2- Instrução processual",
            "3- Cotação de passagens",
            "4- Procedimentos SCDP",
            "5- Emissão de passagens aéreas",
            "6-  Pagamento de diárias",
            "7- Prestação de Contas"
          ]
        }
      ]
    };

    const tipo = "DIÁRIAS E PASSAGENS";
    const processo = estrutura[tipo][0];
    const ctx = document.getElementById('graficoProcesso').getContext('2d');
    const concluido = processo.concluidos;
    const total = processo.etapas.length;
    const restante = total - concluido;
    const percent = ((concluido / total) * 100).toFixed(1);

    new Chart(ctx, {
      type: 'doughnut',
      data: {
        labels: ['Concluído', 'Pendente'],
        datasets: [{
          data: [concluido, restante],
          backgroundColor: ['#00D000', '#FF0000']
        }]
      },
      options: {
        plugins: {
          title: {
            display: true,
            text: `${processo.nome} - Execução: ${percent}%`
          }
        }
      }
    });
  </script>
</body>
</html>
